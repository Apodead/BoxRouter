<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: BoxRouter 2.0</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">BoxRouter 2.0 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Welcome to BoxRouter2.0, a new global router for ultimate routability.</p>
<p>This is 64 bit version.</p>
<p><a href="https://www.cerc.utexas.edu/utda/download/BoxRouter.htm">BoxRouter2.0 Website</a></p>
<hr/>
 <h1>Tutorial</h1>
<h2>1. What do you have in this folder and What do you need?</h2>
<h3>You have:</h3>
<h4>a) BoxRouter2.0 Source Code:</h4>
<ul>
<li>BBox.h Boundary.h BoxRouter.h Design.h Grid.h GRouter.h ILPSolver.h MazeHeap.h Net.h Object.h Param.h Pin.h Point.h Segment.h Util.h Wire.h</li>
<li>BBox.cpp Boundary.cpp BoxRouter.cpp Design.cpp Grid.cpp GRouter.cpp ILPSolver.cpp MazeHeap.cpp Net.cpp Object.cpp Param.cpp Pin.cpp Point.cpp Segment.cpp Util.cpp Wire.cpp dmp2res.cpp res2dmp.cpp</li>
<li>makefile</li>
<li>fix_mps.pl</li>
</ul>
<h3>You need:</h3>
<h4>b) Software packages (free for academic research) used in BoxRouter2.0</h4>
<ul>
<li>I: FLUTE:</li>
<li>II: glpk ILP solver:</li>
<li><p class="startli">III: STLport:</p>
<p class="startli"><a href="https://sourceforge.net/projects/stlport/files/STLport/">Histrory Release</a></p>
</li>
<li><p class="startli">IV: MOSEK:</p>
<p class="startli"><a href="https://www.mosek.com/downloads/list/4/">History Release</a></p>
</li>
</ul>
<h4>c) Complied executable file</h4>
<pre class="fragment">res2dmp.x dmp2res.x br_ispd07.x
</pre><h3>To help you test, we also put one example here:</h3>
<pre class="fragment">ibm01.par, the BoxRouter2.0 configuration file.
</pre><ul>
<li>bench/ibm01.modified.txt -&gt; input file, one of ISPD98 benchmarks.</li>
<li>bench/ibm01.modified.stt -&gt; the Steiner tree generated by FLUTE.</li>
<li>bench/ibm01.modified.txt.log-&gt; log file.</li>
<li>bench/ibm01.modified.res -&gt; output result.</li>
<li>bench/ibm01.modified.dmp -&gt; dump file.</li>
<li>bench/ibm01.modified.res.map -&gt; the final congestion map.</li>
</ul>
<h2>2. How to compile the code ?</h2>
<h3>Please first make sure you setup those software packages correctly.</h3>
<ul>
<li><p class="startli">a) Download FLUTE package and set it up in your BoxRouter2.0 folder.</p>
<p class="startli">For your convenience, Flute files which we are using currently can be also downloaded from <a href="http://www.cerc.utexas.edu/utda/download/FLUTE.tar.gz">http://www.cerc.utexas.edu/utda/download/FLUTE.tar.gz</a>. You can download it and extract into your BoxRouter2.0 folder.</p>
</li>
<li><p class="startli">b) Download glpk package and set it up in your BoxRouter2.0 folder.</p>
<p class="startli">For your convenience, glpk-4.10 which we are using currently can be also downloaded from <a href="http://www.cerc.utexas.edu/utda/download/glpk-4.10.tar.gz">http://www.cerc.utexas.edu/utda/download/glpk-4.10.tar.gz</a>. You can download it and extract into your BoxRouter2.0 folder.</p>
</li>
<li>c) Download STLPORT package and set it up in your BoxRouter2.0 folder.</li>
<li>d) Download MOSEK package and set it up in your BoxRouter2.0 folder.</li>
</ul>
<h3>Then, please compile the code as:</h3>
<ul>
<li><p class="startli">a) make</p>
<p class="startli">Generate the BoxRouter2.0 executable file br_ispd07.x</p>
</li>
<li><p class="startli">b) make dmp2res:</p>
<p class="startli">Generate the executable file dmp2res.x</p>
</li>
<li><p class="startli">c) make res2dmp:</p>
<p class="startli">Generate the executable file res2dmp.x</p>
</li>
</ul>
<h2>3. How to run the BoxRouter2.0?</h2>
<pre class="fragment">./br_ispd07.x configuration_file 
</pre><p>Here we provide one example ibm01.par for configuration_file.</p>
<h2>4. What are the meanings of those parameters in our configuration file?</h2>
<ul>
<li><p class="startli">a) INPUT_FILE input_filename</p>
<p class="startli">Specify the input circuit in ISPD 2007 Routing Contest format.</p>
</li>
<li><p class="startli">b) TREE_FILE tree_filename</p>
<p class="startli">Input Steiner tree. If tree_filename is not found,BoxRouter2.0 will call FLUTE to make Steiner trees for you. The format of the Steiner tree file will be discussed later.</p>
</li>
<li><p class="startli">c) OUTPUT_FILE output_filename</p>
<p class="startli">Specify the routing result output file and the format can be found in our BoxRouter2.0 website.</p>
</li>
<li><p class="startli">d) DUMP_FILE dump_filename</p>
<p class="startli">The dump file is used to store intermediate routing solution in binary format.</p>
<p class="startli">If the file dump_filename exists before you run the BoxRouter2.0, the BoxRouter2.0 will just read the dump file to get intermediate solution and start from there , skipping certain steps.</p>
<p class="startli">If the file dump_filename doesn't exist, the BoxRouter2.0 will do the whole routing from the first beginning and write several intermediate results into dump files.</p>
</li>
<li><p class="startli">e) MULTI_LAYER a</p>
<p class="startli">a = 0 disables multi layer option. a = 1 enables multi layer option.</p>
</li>
<li><p class="startli">f) PREROUTING a</p>
<p class="startli">a = 0 will NOT perform the prerouting stage. a = 1 will perform the prerouting stage.</p>
</li>
<li><p class="startli">g) BOXROUTING a</p>
<p class="startli">a = 0 will NOT perform the boxrouting stage. a = 1 will perform the boxrouting stage.</p>
</li>
<li><p class="startli">h) BOXROUTING_STEP n</p>
<p class="startli">n is the number of variables which can be affordably solved by GLPK.</p>
</li>
<li><p class="startli">i) BOXROUTING_ILP n</p>
<p class="startli">n is used to specify the algorithm which is used in boxrouting stage.</p>
<p class="startli">n = 0;use mazerouting. n = 1:use ILP solver and set ILP objective is max. n = 2:use ILP solver and set ILP objective is min. n = 3:use pattern routing. n = 4:use hybrid ILP mode. n = 5:set ILP objective max and use round up to achieve the solution.</p>
</li>
<li><p class="startli">j) ILP_SOLVER n</p>
<p class="startli">n = 0:GLPK is used. n = 1;MOSEK is used.</p>
</li>
<li><p class="startli">k) REROUTING a</p>
<p class="startli">a = 0 will NOT perform the rerouting stage. a = 1 will perform the rerouting stage.</p>
</li>
<li><p class="startli">l) REROUTING_COUNT n</p>
<p class="startli">n is the number of most rerouting functions.</p>
</li>
<li><p class="startli">m) REROUTING_REPEAT n</p>
<p class="startli">n is the number of rerouting for reducing wirelength.</p>
</li>
<li><p class="startli">n) REROUTING_STEP n</p>
<p class="startli">n is used to control the number of wires to be ripup on congestion edges.</p>
</li>
<li>o) REROUTING_PUSH p</li>
<li><p class="startli">p) REROUTING_STUCK s</p>
<p class="startli">The above two parameters are used together to control the routing cost function. e.g. Cost = a*(b.^(PUST_VALUE))+1; a&amp;b are constants. p is the starting PUSH_VALUE; s is predefined STUCK_VALUE;</p>
<p class="startli">During the rerouting stage, for every new PUSH_VALUE, we set STUCK_VALUE 0. If we use this PUSH VALUE and during following rerouting, we can not improve our result for continuous STUCK_VLAUE times, we will increase p by 1.</p>
</li>
<li><p class="startli">q) MAZEROUTING_MARGIN n</p>
<p class="startli">n is used to control mazerouting to avoid too much searching space.</p>
</li>
<li><p class="startli">r) RELAYERING a</p>
<p class="startli">a = 0 will NOT perform BoxRouter2.0 layer assignment algorithm. a = 1 will perform BoxRouter2.0 layer assignment algorithm.</p>
</li>
</ul>
<p>You can always comment out some line in the configuration file by putting # in the beginning of the line as </p><pre class="fragment">#MULTI_LAYER 
</pre><p>The BoxRouter2.0 will assign default value accordingly.</p>
<h2>5. How does the TREE FILE format looks like?</h2>
<p>You can specify your own tree topology and write it into file as following format. The BoxRouter2.0 perform the routing algorithm based on you file.</p>
<div class="fragment"><div class="line">net[name from the input] [net ID from the input] [# of wires]</div><div class="line">([x11],[y11])-(x[12],y[12])</div><div class="line">([x21],[y21])-(x[22],y[22])</div><div class="line">....</div><div class="line">....</div><div class="line">!</div></div><!-- fragment --><p>for example</p>
<div class="fragment"><div class="line">net10122 3 6 // a net with name&quot;net10122&quot; has netID 3 and the Steiner tree has 6 wires</div><div class="line">17 61 - 18 61 // the 1st wire is from (17,61 to 18.61)</div><div class="line">23 61 - 23 62</div><div class="line">25 62 - 23 62</div><div class="line">18 61 - 21 61</div><div class="line">21 61 - 21 62</div><div class="line">23 62 - 21 62</div><div class="line">!</div></div><!-- fragment --> <hr/>
 <h1>Authors</h1>
<ul>
<li>Minsik Cho, Kun Yuan, Katrina Lu and David Z. Pan</li>
</ul>
<hr/>
 <h1>LICENSE</h1>
<p>Please see LICENSE for information.</p>
<hr/>
 <h1>Awards &amp; Publications</h1>
<ul>
<li>2nd Place in 3D Routing Contest</li>
<li>3rd Place in 2D Routing Contest</li>
<li>Minsik Cho and David Z. Pan , "BoxRouter: A New Global Router Based on Box Expansion and Progressive ILP", Proc. Design Automation Conference (DAC), July, 2006. (Nominated for Best Paper Award, 12 out of 865 submissions) <h2>* Minsik Cho, Katrina Lu, Kun Yuan, David Z. Pan, "BoxRouter 2.0: Architecture and Implementation of a Hybrid and Robust Global Router", Proc. IEEE/ACM Int'l Conference on Computer-Aided Design (ICCAD), November, 2007. </h2>
</li>
</ul>
<h1>Disclaimer</h1>
<p>BoxRouter2.0 was originally released in 2007. Many interfaces, for example MOSEK, may have been changed. Please use the software only for reference. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
